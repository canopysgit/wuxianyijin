{
  "permissions": {
    "allow": [
      "Bash(npx create-next-app:*)",
      "Bash(npm install)",
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(npm test)",
      "Bash(npm run lint)",
      "Bash(npm run format:*)",
      "Bash(npm run build:*)",
      "Bash(npm search:*)",
      "Bash(export SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\")",
      "Bash(export:*)",
      "Bash(curl:*)",
      "Bash(node:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git rm:*)",
      "Bash(git commit:*)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNTQ0NzY2MiwiZXhwIjoyMDUxMDIzNjYyfQ.F7x2n6XYOV7e3n6hm-7i_7HkFfvqvJbY6kWZnZhiZko\" npx supabase db reset --db-url postgresql://postgres:[YOUR-PASSWORD]@db.abtvvtnzethqnxqjsvyn.supabase.co:5432/postgres)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNTQ0NzY2MiwiZXhwIjoyMDUxMDIzNjYyfQ.F7x2n6XYOV7e3n6hm-7i_7HkFfvqvJbY6kWZnZhiZko\" node create_import_logs.js)",
      "Bash(echo $SUPABASE_URL)",
      "Bash(npx:*)",
      "Bash(grep:*)",
      "Bash(echo:*)",
      "Bash(taskkill:*)",
      "Bash(cmd /c:*)",
      "Bash(del nul)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "WebFetch(domain:github.com)",
      "mcp__ide__executeCode",
      "WebSearch",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNTQ0NzY2MiwiZXhwIjoyMDUxMDIzNjYyfQ.F7x2n6XYOV7e3n6hm-7i_7HkFfvqvJbY6kWZnZhiZko\" node test_new_calculator.js)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNTQ0NzY2MiwiZXhwIjoyMDUxMDIzNjYyfQ.F7x2n6XYOV7e3n6hm-7i_7HkFfvqvJbY6kWZnZhiZko\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  const { data, error } = await supabase.from(''salary_records'').select(''employee_id'').limit(10);\n  if (error) console.error(''Error:'', error.message);\n  else console.log(''å‰10ä¸ªå‘˜å·¥ID:'', data.map(r => r.employee_id));\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTczNTQ0NzY2MiwiZXhwIjoyMDUxMDIzNjYyfQ.F7x2n6XYOV7e3n6hm-7i_7HkFfvqvJbY6kWZnZhiZko\" node batch_calculate_df2127.js)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''æ£€æŸ¥è®¡ç®—ç»“æžœè¡¨æ˜¯å¦å­˜åœ¨...'');\n  const tables = [\n    ''calculate_result_2023_H1_wide'', ''calculate_result_2023_H1_narrow'',\n    ''calculate_result_2023_H2_wide'', ''calculate_result_2023_H2_narrow'',\n    ''calculate_result_2024_H1_wide'', ''calculate_result_2024_H1_narrow'',\n    ''calculate_result_2024_H2_wide'', ''calculate_result_2024_H2_narrow''\n  ];\n  \n  for (const table of tables) {\n    try {\n      const { data, error } = await supabase.from(table).select(''count(*)'', { count: ''exact'', head: true });\n      if (error) {\n        console.log(''FAIL '' + table + '': '' + error.message);\n      } else {\n        console.log(''OK '' + table + '': '' + data + '' records'');\n      }\n    } catch (e) {\n      console.log(''ERROR '' + table + '': '' + e.message);\n    }\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''æ£€æŸ¥æ•°æ®åº“ä¸­å®žé™…å­˜åœ¨çš„è®¡ç®—ç»“æžœè¡¨...'');\n  const possibleTables = [\n    ''calculation_results_wide_2023h1'', ''calculation_results_narrow_2023h1'',\n    ''calculation_results_wide_2023h2'', ''calculation_results_narrow_2023h2'',\n    ''calculation_results_wide_2024h1'', ''calculation_results_narrow_2024h1'',\n    ''calculation_results_wide_2024h2'', ''calculation_results_narrow_2024h2''\n  ];\n  \n  for (const table of possibleTables) {\n    try {\n      const { data, error } = await supabase.from(table).select(''count(*)'', { count: ''exact'', head: true });\n      if (error) {\n        console.log(''âŒ '' + table + '': '' + error.message);\n      } else {\n        console.log(''âœ… '' + table + '': å­˜åœ¨'');\n      }\n    } catch (e) {\n      console.log(''ERROR '' + table + '': '' + e.message);\n    }\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''æ£€æŸ¥æ•°æ®åº“ä¸­å®žé™…å­˜åœ¨çš„è®¡ç®—ç»“æžœè¡¨...'');\n  const expectedTables = [\n    ''calculate_result_2023_h1_wide'', ''calculate_result_2023_h1_narrow'',\n    ''calculate_result_2023_h2_wide'', ''calculate_result_2023_h2_narrow'',\n    ''calculate_result_2024_h1_wide'', ''calculate_result_2024_h1_narrow'',\n    ''calculate_result_2024_h2_wide'', ''calculate_result_2024_h2_narrow''\n  ];\n  \n  const existingTables = [];\n  \n  for (const table of expectedTables) {\n    try {\n      const { data, error } = await supabase.from(table).select(''count(*)'', { count: ''exact'', head: true });\n      if (!error) {\n        console.log(''å­˜åœ¨è¡¨: '' + table);\n        existingTables.push(table);\n      } else {\n        console.log(''ä¸å­˜åœ¨: '' + table + '' - '' + error.message);\n      }\n    } catch (e) {\n      console.log(''é”™è¯¯: '' + table + '' - '' + e.message);\n    }\n  }\n  \n  console.log(''\\nå®žé™…å­˜åœ¨çš„è¡¨æ•°é‡: '' + existingTables.length);\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''æ£€æŸ¥SQLæ–‡ä»¶ä¸­çš„è¡¨åæ˜¯å¦å­˜åœ¨...'');\n  const sqlTables = [\n    ''calculation_results_wide_2023h1'', ''calculation_results_narrow_2023h1'',\n    ''calculation_results_wide_2023h2'', ''calculation_results_narrow_2023h2'',\n    ''calculation_results_wide_2024h1'', ''calculation_results_narrow_2024h1'',\n    ''calculation_results_wide_2024h2'', ''calculation_results_narrow_2024h2''\n  ];\n  \n  for (const table of sqlTables) {\n    try {\n      const { data, error } = await supabase.from(table).select(''count(*)'', { count: ''exact'', head: true });\n      if (!error) {\n        console.log(''âœ… å­˜åœ¨: '' + table);\n      } else {\n        console.log(''âŒ ä¸å­˜åœ¨: '' + table);\n      }\n    } catch (e) {\n      console.log(''ERROR '' + table + '': '' + e.message);\n    }\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node batch_calculate_df2127.js)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''æ£€æŸ¥æ”¿ç­–è§„åˆ™æ•°æ®çš„è¯¦ç»†å†…å®¹...'');\n  const { data: rules, error } = await supabase.from(''policy_rules'').select(''*'').eq(''year'', 2023).eq(''period'', ''H1'');\n  if (error) {\n    console.log(''æŸ¥è¯¢å¤±è´¥:'', error.message);\n  } else if (rules.length > 0) {\n    console.log(''2023å¹´H1æ”¿ç­–è§„åˆ™:'');\n    console.log(JSON.stringify(rules[0], null, 2));\n  } else {\n    console.log(''æ²¡æœ‰æ‰¾åˆ°2023å¹´H1çš„æ”¿ç­–è§„åˆ™'');\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node test_single_calculation.js)",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” é€æ­¥æµ‹è¯•è¡¨å­—æ®µè¦æ±‚...'');\n  \n  // å°è¯•é€æ­¥æ·»åŠ å­—æ®µæ¥äº†è§£è¡¨ç»“æž„\n  const testData = {\n    employee_id: ''TEST-001''\n  };\n  \n  const { data, error } = await supabase\n    .from(''calculate_result_2023_h1_wide'')\n    .insert([testData])\n    .select();\n    \n  if (error) {\n    console.log(''é”™è¯¯:'', error.message);\n    console.log(''è¯¦æƒ…:'', error.details);\n    console.log(''æç¤º:'', error.hint);\n  } else {\n    console.log(''æˆåŠŸæ’å…¥:'', data);\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” éªŒè¯DF-2127è®¡ç®—ç»“æžœ...'');\n  \n  const periods = [\n    { name: ''2023å¹´H1'', table: ''calculate_result_2023_h1_wide'' },\n    { name: ''2023å¹´H2'', table: ''calculate_result_2023_h2_wide'' },\n    { name: ''2024å¹´H1'', table: ''calculate_result_2024_h1_wide'' },\n    { name: ''2024å¹´H2'', table: ''calculate_result_2024_h2_wide'' }\n  ];\n  \n  for (const period of periods) {\n    const { data, error } = await supabase\n      .from(period.table)\n      .select(''calculation_month, employee_category, reference_wage_base, reference_wage_category, theoretical_total'')\n      .eq(''employee_id'', ''DF-2127'')\n      .order(''calculation_month'');\n      \n    if (error) {\n      console.log(''âŒ '' + period.name + '': '' + error.message);\n    } else {\n      console.log(''\\nâœ… '' + period.name + '' ('' + data.length + ''æ¡è®°å½•):'');\n      data.forEach(record => {\n        const month = new Date(record.calculation_month).toLocaleDateString(''zh-CN'', { year: ''numeric'', month: ''long'' });\n        console.log(''  '' + month + '': '' + record.employee_category + ''ç±», å‚è€ƒå·¥èµ„Â¥'' + record.reference_wage_base.toFixed(2) + '' ('' + record.reference_wage_category + ''), æ€»è®¡Â¥'' + record.theoretical_total.toFixed(2));\n      });\n    }\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ—‘ï¸ æ¸…ç†DF-2127çŽ°æœ‰æ•°æ®...'');\n  const tables = [''calculate_result_2023_h1_wide'', ''calculate_result_2023_h2_wide'', ''calculate_result_2024_h1_wide'', ''calculate_result_2024_h2_wide''];\n  \n  for (const table of tables) {\n    const { error } = await supabase.from(table).delete().eq(''employee_id'', ''DF-2127'');\n    if (error) {\n      console.log(''âŒ åˆ é™¤'' + table + ''å¤±è´¥:'', error.message);\n    } else {\n      console.log(''âœ… å·²æ¸…ç†'' + table + ''ä¸­çš„DF-2127æ•°æ®'');\n    }\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” æŸ¥çœ‹DF-2127çš„å®žé™…å·¥èµ„è®°å½•...'');\n  const { data, error } = await supabase\n    .from(''salary_records'')\n    .select(''employee_id, salary_month, basic_salary, gross_salary'')\n    .eq(''employee_id'', ''DF-2127'')\n    .order(''salary_month'');\n    \n  if (error) {\n    console.log(''âŒ æŸ¥è¯¢å¤±è´¥:'', error.message);\n  } else {\n    console.log(''âœ… DF-2127å·¥èµ„è®°å½•:'');\n    data.forEach(record => {\n      console.log(''  '' + record.salary_month + '': åŸºæœ¬Â¥'' + record.basic_salary + '', åº”å‘Â¥'' + record.gross_salary);\n    });\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” éªŒè¯2023å¹´H1æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®...'');\n  const { data, error } = await supabase\n    .from(''calculate_result_2023_h1_wide'')\n    .select(''employee_id, calculation_month, employee_category, reference_wage_base, theoretical_total'')\n    .eq(''employee_id'', ''DF-2127'')\n    .order(''calculation_month'');\n    \n  if (error) {\n    console.log(''âŒ æŸ¥è¯¢å¤±è´¥:'', error.message);\n  } else {\n    console.log(''âœ… 2023å¹´H1è®¡ç®—ç»“æžœ:'');\n    data.forEach(record => {\n      console.log(''  '' + record.calculation_month + '': '' + record.employee_category + ''ç±», Â¥'' + record.reference_wage_base + '' â†’ Â¥'' + record.theoretical_total.toFixed(2));\n    });\n    console.log(''\\nðŸ“Š æ•°æ®éªŒè¯:'');\n    console.log(''  æœŸæœ›è®°å½•æ•°: 6æ¡ (202301-202306)'');\n    console.log(''  å®žé™…è®°å½•æ•°: '' + data.length + ''æ¡'');\n    console.log(''  æ ¼å¼éªŒè¯: '' + (data.every(r => /^\\d{6}$/.test(r.calculation_month)) ? ''âœ… YYYYMMæ ¼å¼æ­£ç¡®'' : ''âŒ æ ¼å¼é”™è¯¯''));\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ§ª æµ‹è¯•YYYYMMæ ¼å¼æ’å…¥...'');\n  \n  const testData = {\n    employee_id: ''DF-2127'',\n    calculation_month: ''202301'',  // YYYYMMæ ¼å¼\n    employee_category: ''A'',\n    reference_wage_base: 21535.13,\n    reference_wage_category: ''2022å¹´å¹³å‡å·¥èµ„'',\n    pension_base_floor: 3958,\n    pension_base_cap: 22941,\n    pension_adjusted_base: 21535.13,\n    medical_base_floor: 3958,\n    medical_base_cap: 22941,\n    medical_adjusted_base: 5626,\n    unemployment_base_floor: 3958,\n    unemployment_base_cap: 22941,\n    unemployment_adjusted_base: 21535.13,\n    injury_base_floor: 0,\n    injury_base_cap: 999999,\n    injury_adjusted_base: 21535.13,\n    hf_base_floor: 1720,\n    hf_base_cap: 23634,\n    hf_adjusted_base: 21535.13,\n    pension_payment: 3014.92,\n    medical_payment: 309.43,\n    unemployment_payment: 68.91,\n    injury_payment: 21.54,\n    hf_payment: 1076.76,\n    theoretical_total: 4491.55\n  };\n  \n  const { data, error } = await supabase\n    .from(''calculate_result_2023_h1_wide'')\n    .insert([testData])\n    .select();\n    \n  if (error) {\n    console.log(''âŒ æ’å…¥å¤±è´¥:'', error.message);\n    console.log(''è¯¦æƒ…:'', error.details);\n  } else {\n    console.log(''âœ… æ’å…¥æˆåŠŸï¼Œè®°å½•ID:'', data[0].id);\n    console.log(''ðŸ“‹ calculation_monthå€¼:'', data[0].calculation_month);\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” æ£€æŸ¥è¡¨ä¹‹é—´çš„å…³ç³»...'');\n  \n  // æ£€æŸ¥calculate_resultè¡¨çš„ç»“æž„\n  const { data: calcData, error: calcError } = await supabase\n    .from(''calculate_result_2023_h1_wide'')\n    .select(''*'')\n    .limit(1);\n    \n  if (calcError) {\n    console.log(''âŒ è®¡ç®—ç»“æžœè¡¨æŸ¥è¯¢å¤±è´¥:'', calcError.message);\n  } else {\n    console.log(''âœ… è®¡ç®—ç»“æžœè¡¨å­—æ®µ:'', Object.keys(calcData[0] || {}));\n  }\n  \n  // æ£€æŸ¥policy_rulesè¡¨çš„ç»“æž„\n  const { data: policyData, error: policyError } = await supabase\n    .from(''policy_rules'')\n    .select(''*'')\n    .limit(1);\n    \n  if (policyError) {\n    console.log(''âŒ æ”¿ç­–è§„åˆ™è¡¨æŸ¥è¯¢å¤±è´¥:'', policyError.message);\n  } else {\n    console.log(''âœ… æ”¿ç­–è§„åˆ™è¡¨å­—æ®µ:'', Object.keys(policyData[0] || {}));\n  }\n})();\n\")",
      "Bash(SUPABASE_URL=\"https://abtvvtnzethqnxqjsvyn.supabase.co\" SUPABASE_SERVICE_ROLE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFidHZ2dG56ZXRocW54cWpzdnluIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MjQ4OTA4NiwiZXhwIjoyMDY4MDY1MDg2fQ.ZpmsQkZcaGYf8xalik0G1HXPTVopADj4k6eV_jaX3r8\" node -e \"\nconst { createClient } = require(''@supabase/supabase-js'');\nconst supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);\n(async () => {\n  console.log(''ðŸ” æ£€æŸ¥å¦‚ä½•å…³è”ä¸¤ä¸ªè¡¨...'');\n  \n  // æŸ¥çœ‹è®¡ç®—ç»“æžœè¡¨ä¸­æ˜¯å¦æœ‰periodä¿¡æ¯\n  const { data: sampleCalc, error } = await supabase\n    .from(''calculate_result_2023_h1_wide'')\n    .select(''calculation_month'')\n    .limit(1);\n    \n  if (!error && sampleCalc.length > 0) {\n    console.log(''calculation_monthæ ·ä¾‹:'', sampleCalc[0].calculation_month);\n    \n    // æ£€æŸ¥å¦‚ä½•ä»Žcalculation_monthæŽ¨å¯¼æ”¿ç­–è§„åˆ™\n    const calcMonth = sampleCalc[0].calculation_month;\n    const year = parseInt(calcMonth.substring(0, 4));\n    const month = parseInt(calcMonth.substring(4, 6));\n    const period = month <= 6 ? ''H1'' : ''H2'';\n    \n    console.log(''æŽ¨å¯¼çš„å¹´ä»½:'', year);\n    console.log(''æŽ¨å¯¼çš„æœŸé—´:'', period);\n    \n    // æŸ¥è¯¢å¯¹åº”çš„æ”¿ç­–è§„åˆ™\n    const { data: policyData, error: policyError } = await supabase\n      .from(''policy_rules'')\n      .select(''*'')\n      .eq(''year'', year)\n      .eq(''period'', period);\n      \n    if (policyError) {\n      console.log(''âŒ æ”¿ç­–è§„åˆ™æŸ¥è¯¢å¤±è´¥:'', policyError.message);\n    } else {\n      console.log(''âœ… æ‰¾åˆ°æ”¿ç­–è§„åˆ™:'', policyData.length, ''æ¡'');\n      if (policyData.length > 0) {\n        console.log(''æ”¿ç­–è§„åˆ™è¯¦æƒ…:'', policyData[0]);\n      }\n    }\n  }\n})();\n\")",
      "WebFetch(domain:rsj.sh.gov.cn)",
      "WebFetch(domain:www.51shebao.com)"
    ],
    "deny": [],
    "ask": [],
    "additionalDirectories": [
      "C:\\c\\96AICoding"
    ]
  }
}